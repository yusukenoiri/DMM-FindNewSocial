<!--インクリメンタルサーチ実装-->
<div class="side-bar-border mr-1">
<h3>Post検索</h3>
  <%= text_field_tag :title, '', class: 'js-text_field form-control', placeholder: '文字を入力してください' %>
  <ul class="js-posts">
    <%= render 'posts/post', posts: @posts %>
  </ul>
</div>
<!--投稿のランキング順-->
<h3 class="mt-5">Ranking</h3><p>週間いいねランク</p>
<div class="side-bar-border mr-1">
  <ol class = "ranking">
    <% @favorites.each do |favorite| %>
      <%= link_to post_path(favorite), method: :get do %>
          <li class = "ranking_list">
            <%= favorite.title %> by <%= favorite.user.nick_name %>
          </li>
      <% end %>
    <% end %>
  </ol>
</div>
<!--おすすめ記事を外部リンクから表示-->
<h3 class="mt-5">Recomend</h3><p>あなたへのおすすめ記事</p>
<div class="side-bar-border mr-1">

<!--newsAPIで取得したデータを表示-->
  <hr>
  <div id="result" class="mr-1">no information...</div>
  <script>
  var f = function(){
      $.ajax({
          type: 'GET',
          url: '/news/data'
      });
  };
  f();
  </script>

  <!--<div class="btn-group">-->
  <!--  <button type="button" class="btn btn-primary btn-lg dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Clickして記事をもっと表示</button>-->
  <!--  <ul class="dropdown-menu">-->
  <!--    <li class="dropdown-item">-->
  <!--      <%#= link_to "表示したい記事のタイトルと取得する", "https://qiita.com/Hal_mai/items/94b7d5c7e00c72324013", target: :_blank, rel: "noopener noreferrer" %>-->
  <!--    </li>-->
  <!--    <li class="dropdown-item">-->
  <!--      <%#= link_to "表示したい記事のタイトルと取得する", "https://qiita.com/Hal_mai/items/94b7d5c7e00c72324013", target: :_blank, rel: "noopener noreferrer" %>-->
  <!--    </li>-->
  <!--    <li class="dropdown-item">-->
  <!--      <%#= link_to "表示したい記事のタイトルと取得する", "https://qiita.com/Hal_mai/items/94b7d5c7e00c72324013", target: :_blank, rel: "noopener noreferrer" %>-->
  <!--    </li>-->
  <!--    <li class="dropdown-item">-->
  <!--      <%#= link_to "表示したい記事のタイトルと取得する", "https://qiita.com/Hal_mai/items/94b7d5c7e00c72324013", target: :_blank, rel: "noopener noreferrer" %>-->
  <!--    </li>-->
  <!--    <li class="dropdown-item">-->
  <!--      <%#= link_to "表示したい記事のタイトルと取得する", "https://qiita.com/Hal_mai/items/94b7d5c7e00c72324013", target: :_blank, rel: "noopener noreferrer" %>-->
  <!--    </li>-->
  <!--  </ul>-->
  <!--</div>-->
  <!--</div>-->

<div class="side-bar-border mr-1">
  <h3 class="mt-5">PostGenre投稿割合</h3>
  <%= pie_chart Post.group(:genre_id).count, xmin: "2021-01-01", xmax: "2022-01-01", decimal: "," , suffix: "%" %>
</div>

<div>
  <h3 class="mt-5 mr-1">年代別投稿割合</h3>
  <%= pie_chart Post.joins(:user).group(:generation).count, xmin: "2021-01-01", xmax: "2022-01-01", decimal: "," , suffix: "%" %>
</div>